{"ast":null,"code":"import _slicedToArray from\"/Users/yixin/Development/code/phase-2/phase-2-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';//set controlled form\n//add onSubmit to capture event \n//set router \n//use param hook\n//push method to push new info to app\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewArtworkForm(_ref){var onAddArtwork=_ref.onAddArtwork;//declare state-medium, artist, title, year, image\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),medium=_useState2[0],setMedium=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),artist=_useState4[0],setArtist=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),year=_useState8[0],setYear=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),image=_useState10[0],setImage=_useState10[1];//handle submit\n//POST method\nfunction handleSubmit(e){e.preventDefault();//prevent page from refreshing\n//fetch request with POST\nfetch(\"http://localhost:4000/artworks\",{method:\"POST\",headers:{\"Content-type\":\"application/json\"},body:JSON.stringify({medium:medium,artist:artist,title:title,year:year,image:image})}).then(function(response){return response.json();}).then(function(newArtwork){return onAddArtwork(newArtwork);});//add new artwork to page\n}return/*#__PURE__*/ (//include text input area with states\n//target input value for users to enter information\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{class:\"add-artwork\",children:\"Add Artwork\"}),/*#__PURE__*/_jsxs(\"form\",{class:\"artwork-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"medium\",placeholder:\"Artwork Medium\",onChange:function onChange(e){return setMedium(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"artist\",placeholder:\"Artist\",onChange:function onChange(e){return setArtist(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Title\",onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"year\",placeholder:\"Year\",value:year,onChange:function onChange(e){return setYear(parseFloat(e.target.value));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",placeholder:\"Image URL\",onChange:function onChange(e){return setImage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add to database\"})]})]}));}export default NewArtworkForm;","map":{"version":3,"names":["React","useState","NewArtworkForm","onAddArtwork","medium","setMedium","artist","setArtist","title","setTitle","year","setYear","image","setImage","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","newArtwork","target","value","parseFloat"],"sources":["/Users/yixin/Development/code/phase-2/phase-2-project/src/components/NewArtworkForm.js"],"sourcesContent":["import React, { useState } from 'react'\n   \n//set controlled form\n//add onSubmit to capture event \n//set router \n//use param hook\n//push method to push new info to app\n\nfunction NewArtworkForm({ onAddArtwork }) {\n  //declare state-medium, artist, title, year, image\n  const [medium, setMedium] = useState(\"\");\n  const [artist, setArtist] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [year, setYear] = useState();\n  const [image, setImage] = useState(\"\");\n\n  //handle submit\n  //POST method\n\n  function handleSubmit(e) {\n    e.preventDefault(); //prevent page from refreshing\n//fetch request with POST\n    fetch(\"http://localhost:4000/artworks\", {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        medium: medium,\n        artist: artist,\n        title: title,\n        year: year,\n        image: image,\n      }),\n    })\n      .then((response)  => response.json()) \n      .then((newArtwork) => onAddArtwork(newArtwork));\n      \n    //add new artwork to page\n  }\n\n\n\n\n\n  return (\n//include text input area with states\n//target input value for users to enter information\n    <div >\n    <h2 class=\"add-artwork\">Add Artwork</h2>\n       <form class=\"artwork-form\"onSubmit={handleSubmit}>\n          <input\n         type=\"text\"\n         name=\"medium\"\n         placeholder=\"Artwork Medium\"\n         onChange={(e) => setMedium(e.target.value)}\n         />\n          <input\n            type=\"text\"\n            name=\"artist\"\n            placeholder=\"Artist\"\n            onChange={(e) => setArtist(e.target.value)}\n          />\n           <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Title\"\n          onChange={(e) => setTitle(e.target.value)}\n          />\n          <input\n           type=\"number\"\n           name=\"year\"\n           placeholder=\"Year\"\n           value={year}\n           onChange={(e) => setYear(parseFloat(e.target.value))}\n         />\n         <input \n          type=\"text\"\n          name=\"image\"\n          placeholder=\"Image URL\"\n          onChange={(e) => setImage(e.target.value)}\n         />\n           <button type=\"submit\">Add to database</button>\n        </form>\n    </div>\n  );\n}\n\nexport default NewArtworkForm;"],"mappings":"2IAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA;AACA;AACA;AACA;AACA;wFAEA,QAASC,eAAT,MAA0C,IAAhBC,aAAgB,MAAhBA,YAAgB,CACxC;AACA,cAA4BF,QAAQ,CAAC,EAAD,CAApC,wCAAOG,MAAP,eAAeC,SAAf,eACA,eAA4BJ,QAAQ,CAAC,EAAD,CAApC,yCAAOK,MAAP,eAAeC,SAAf,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAAwBR,QAAQ,EAAhC,yCAAOS,IAAP,eAAaC,OAAb,eACA,eAA0BV,QAAQ,CAAC,EAAD,CAAlC,0CAAOW,KAAP,gBAAcC,QAAd,gBAEA;AACA;AAEA,QAASC,aAAT,CAAsBC,CAAtB,CAAyB,CACvBA,CAAC,CAACC,cAAF,GAAoB;AACxB;AACIC,KAAK,CAAC,gCAAD,CAAmC,CACtCC,MAAM,CAAE,MAD8B,CAEtCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAF6B,CAKtCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBlB,MAAM,CAAEA,MADW,CAEnBE,MAAM,CAAEA,MAFW,CAGnBE,KAAK,CAAEA,KAHY,CAInBE,IAAI,CAAEA,IAJa,CAKnBE,KAAK,CAAEA,KALY,CAAf,CALgC,CAAnC,CAAL,CAaGW,IAbH,CAaQ,SAACC,QAAD,QAAeA,SAAQ,CAACC,IAAT,EAAf,EAbR,EAcGF,IAdH,CAcQ,SAACG,UAAD,QAAgBvB,aAAY,CAACuB,UAAD,CAA5B,EAdR,EAgBA;AACD,CAMD,oBACF;AACA;AACI,oCACA,WAAI,KAAK,CAAC,aAAV,yBADA,cAEG,cAAM,KAAK,CAAC,cAAZ,CAA0B,QAAQ,CAAEZ,YAApC,wBACG,cACD,IAAI,CAAC,MADJ,CAED,IAAI,CAAC,QAFJ,CAGD,WAAW,CAAC,gBAHX,CAID,QAAQ,CAAE,kBAACC,CAAD,QAAOV,UAAS,CAACU,CAAC,CAACY,MAAF,CAASC,KAAV,CAAhB,EAJT,EADH,cAOG,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,QAFP,CAGE,WAAW,CAAC,QAHd,CAIE,QAAQ,CAAE,kBAACb,CAAD,QAAOR,UAAS,CAACQ,CAAC,CAACY,MAAF,CAASC,KAAV,CAAhB,EAJZ,EAPH,cAaI,cACD,IAAI,CAAC,MADJ,CAED,IAAI,CAAC,OAFJ,CAGD,WAAW,CAAC,OAHX,CAID,QAAQ,CAAE,kBAACb,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EAJT,EAbJ,cAmBG,cACC,IAAI,CAAC,QADN,CAEC,IAAI,CAAC,MAFN,CAGC,WAAW,CAAC,MAHb,CAIC,KAAK,CAAElB,IAJR,CAKC,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,QAAO,CAACkB,UAAU,CAACd,CAAC,CAACY,MAAF,CAASC,KAAV,CAAX,CAAd,EALX,EAnBH,cA0BE,cACC,IAAI,CAAC,MADN,CAEC,IAAI,CAAC,OAFN,CAGC,WAAW,CAAC,WAHb,CAIC,QAAQ,CAAE,kBAACb,CAAD,QAAOF,SAAQ,CAACE,CAAC,CAACY,MAAF,CAASC,KAAV,CAAf,EAJX,EA1BF,cAgCI,eAAQ,IAAI,CAAC,QAAb,6BAhCJ,GAFH,GAHF,EAyCD,CAED,cAAe1B,eAAf"},"metadata":{},"sourceType":"module"}